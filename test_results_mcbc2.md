# Testing
The testing were run on a virtual machine `MCBC` i586, 2 GB RAM.
Used `gcc-4.1.3`. Standard `C++03`.

Used abbreviations:
+ QS - QuickSort
+ IS - InsertionSort
+ HS - HeapSort
+ SS - `std::sort`
+ MS - MergeSort

I tested my algorithm and two variations of Hoare's: the pure version and the one with transferring to InsertionSort for ranges less than 32 items.
In addition to them, I took some algorithms from STL:
+ HeapSort (`std::make_heap, std::sort_heap`)
+ `std::sort` (made from QuickSort, HeapSort and InsertionSort)
+ `std::stable_sort` (aka MergeSort).

## Input data
The tests were run on arrays of custom type. The type must content at least two members, all members must be used in comparison operator. The minimal code of this type:

```c++
struct Point { double x,y; };

bool operator< (const Point & a, const Point & b) {
    return a.x < b.x || (!(b.x < a.x) && a.y < b.y);
}

// for is_sorted check
bool operator> (const Point &a, const Point &b) { return b < a; }

void swap(Point & a, Point & b) {
    double tmp = a.x;
    a.x = b.x;
    b.x = tmp;
    tmp = a.y;
    a.y = b.y;
    b.y = tmp;
}
```

The arrays were generated by following rules.

N   | Rule | Unique
----|------|-------
P1  | All values are the same        | No
P2  | Only 0 & 1                     | No
P3  | X's already sorted (ascending) | Yes
P4  | Y's already sorted (ascending) | Yes
P5  | X's reversed (descending)      | Yes
P6  | Y's reversed (descending)      | Yes
P7  | All X's are sorted except for the last item, the minimum | Yes
P8  | All Y's are sorted except for the last item, the minimum | Yes
P9  | X R-Bitonic (descending-mirrored)  | No
P10 | Y R-Bitonic (descending-mirrored)  | No
P11 | X Bitonic (descending-mirrored)    | No
P12 | Y Bitonic (descending-mirrored)    | No
P13 | X R-Bitonic (descending-ascending) | Yes
P14 | Y R-Bitonic (descending-ascending) | Yes
P15 | X Bitonic (ascending-descending)   | Yes
P16 | Y Bitonic (ascending-descending)   | Yes

## Results
The tests were started with algorithm's **version 2**
**1000000 (million) 2D-points**, without and with optimization options (`g++ -O3`):

| N  |    QS my    |  QS Hoare  |   QS + IS  |     HS     |     SS     |     MS     |
|:---|:-----------:|:----------:|:----------:|:----------:|:----------:|:----------:|
|P1  | 0.05; 0.01  | 0.44; 0.06 | 0.38; 0.05 | 1.13; 0.13 | 0.38; 0.05 | 0.37; 0.12 |
|P2  | 0.06; 0.01  | 0.46; 0.06 | 0.39; 0.05 | 1.17; 0.13 | 0.38; 0.06 | 0.43; 0.13 |
|P3  | 0.28; 0.03  | 0.24; 0.02 | 0.20; 0.02 | 1.24; 0.11 | 0.15; 0.03 | 0.34; 0.12 |
|P4  | 0.33; 0.05  | 0.29; 0.05 | 0.25; 0.04 | 1.24; 0.14 | 0.19; 0.04 | 0.35; 0.12 |
|P5  | 0.31; 0.03  | 0.24; 0.03 | 0.21; 0.03 | 1.29; 0.14 | 0.17; 0.02 | 0.33; 0.12 |
|P6  | 0.35; 0.05  | 0.30; 0.05 | 0.25; 0.04 | 1.30; 0.16 | 0.21; 0.04 | 0.35; 0.12 |
|P7  | 0.51; 0.05  | 0.43; 0.04 | 0.38; 0.04 | 1.23; 0.12 | 1.54; 0.20 | 0.34; 0.11 |
|P8  | 0.60; 0.08  | 0.51; 0.07 | 0.46; 0.07 | 1.25; 0.14 | 1.65; 0.23 | 0.35; 0.12 |
|P9  | 1.20; 0.15  | 1.02; 0.15 | 1.04; 0.13 | 1.32; 0.16 | 1.28; 0.18 | 0.34; 0.12 |
|P10 | 1.43; 0.22  | 1.23; 0.20 | 1.26; 0.19 | 1.33; 0.18 | 1.40; 0.22 | 0.36; 0.13 |
|P11 | 1.21; 0.14  | 0.99; 0.15 | 1.00; 0.14 | 1.28; 0.14 | 1.30; 0.18 | 0.34; 0.12 |
|P12 | 1.44; 0.22  | 1.19; 0.20 | 1.22; 0.19 | 1.30; 0.16 | 1.40; 0.21 | 0.36; 0.12 |
|P13 | 1.25; 0.15  | 1.03; 0.14 | 1.06; 0.14 | 1.30; 0.15 | 1.29; 0.18 | 0.35; 0.13 |
|P14 | 1.50; 0.23  | 1.26; 0.20 | 1.29; 0.20 | 1.32; 0.17 | 1.41; 0.22 | 0.36; 0.12 |
|P15 | 1.27; 0.15  | 1.03; 0.15 | 1.05; 0.14 | 1.27; 0.14 | 1.29; 0.18 | 0.34; 0.12 |
|P16 | 1.52; 0.23  | 1.24; 0.20 | 1.28; 0.19 | 1.29; 0.16 | 1.41; 0.21 | 0.36; 0.12 |
